(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var o,a=n(0),r=n.n(a),i=n(12),c=n.n(i),l=n(8),s=n(10),u=n(19),d=n(6),p=function(e){return{type:"ADD_TODO",payload:e}},m={list:[{id:1,name:"Shopping",content:"<ul><li>Chicken</li><li>Yogurt</li><li>Milk</li><li>Potatoes</ul>",hasBullets:!0},{id:2,name:"Book Hair Appointment",content:"<div>Soon!</div>"}],newTodo:{name:"",content:"",id:0}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return t.payload.id=e.list.reduce((function(e,t){return e>t.id?e:t.id}),0)+1,Object(d.a)({},e,{list:[t.payload].concat(Object(u.a)(e.list)),newTodo:{name:"",content:"",id:0}});case"UPDATE_TODO":var n=e.list.map((function(e){return e.id===t.payload.id?t.payload:e}));return Object(d.a)({},e,{list:n});case"DELETE_TODO":return 0===t.payload?Object(d.a)({},e,{newTodo:{name:"",content:"",id:0}}):Object(d.a)({},e,{list:e.list.filter((function(e){return e.id!==t.payload}))});case"UPDATE_NEW_TODO":return Object(d.a)({},e,{newTodo:t.payload});default:return e}},h=Object(s.b)({todos:f}),b=(n(30),n(31),n(32),n(1)),v=n(2),O=n(5),g=n(3),E=n(4),C=n(13),j=function(e){var t=Object.assign({},e),n=t.content;return n?(n.includes("<li>")?n=(n=n.replace(/(<ul>||<\/ul>)+/g,"")).replace(/li>+/g,"div>"):((n=n.replace(/div>+/g,"li>")).startsWith("<li>")||(n="<li>".concat(n,"</li>")),n="<ul>".concat(n,"</ul>")),t.content=n,t):(t.content="<ul><li></li></ul>",t)},y=[{name:"white",hex:"#fff"},{name:"orange",hex:"#ffeed1"},{name:"pink",hex:"#ffd6e1"},{name:"purple",hex:"#f3d1ff"},{name:"yellow",hex:"#fdffd1"},{name:"green",hex:"#daffd1"},{name:"teal",hex:"#cdf7f3"},{name:"blue",hex:"#d1d8ff"},{name:"grey",hex:"#c7c7c7"}],w=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"shadow-sm color-options "+(this.props.visibleColor?"shown":"")},y.map((function(t){var n={borderColor:t.hex,backgroundColor:t.hex};return r.a.createElement("button",{key:t.hex,className:"color-button",title:t.name,style:n,onClick:function(){return e.props.setColor(t.hex)},"aria-label":t.name})})))}}]),t}(r.a.Component),N=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(O.a)(this,Object(g.a)(t).call(this,e))).setColor=function(e){n.props.setColor(e),n.setState({visibleColor:!1})},n.state={visibleColor:!1},n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"d-inline-flex"},r.a.createElement("button",{type:"button",className:"todo-card-action",onClick:function(){return e.setState({visibleColor:!e.state.visibleColor})}},r.a.createElement("i",{className:"mdi mdi-brush"})),r.a.createElement("button",{type:"button","aria-label":"Bullet Points",onClick:this.props.toggleBullets,className:"todo-card-action bullets-btn"},r.a.createElement("i",{className:"mdi mdi-format-list-bulleted"})),r.a.createElement("button",{type:"button","aria-label":"Delete",onClick:function(){return e.props.deleteTodo()},className:"btn todo-card-action"},r.a.createElement("i",{className:"mdi mdi-delete"})),this.props.isChanged&&r.a.createElement("button",{type:"button","aria-label":"Undo",onClick:function(){return e.props.undo()},className:"todo-card-action"},r.a.createElement("i",{className:"mdi mdi-undo"}))),r.a.createElement("button",{type:"button","aria-label":"Save",onClick:function(){return e.props.close()},className:"btn btn-light close-btn"},"Ok")),r.a.createElement(w,{visibleColor:this.state.visibleColor,setColor:function(t){return e.setColor(t)}}))}}]),t}(a.Component),T=n(11),k=n.n(T),A=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,!this.props.name&&r.a.createElement("div",{className:"position-absolute new-todo-text todo-placeholder-title"},"No title set"),r.a.createElement(k.a,{html:this.props.name||"",className:"card-title h5",onChange:function(t){return e.props.onChange(t.target.value)},onFocus:function(){return e.props.setActive(!0)},onBlur:function(){return e.props.setActive(!1)}}))}}]),t}(a.Component),x=function(e){return r.a.createElement(k.a,{html:e.content,innerRef:e.targetRef,className:"card-text",onChange:function(t){return e.onChange(t.target.value)},onFocus:function(){return e.setActive(!0)},onBlur:function(){return e.setActive(!1)}})},D=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(O.a)(this,Object(g.a)(t).call(this,e))).isNew=function(){return 0===n.props.todo.id},n.handleClickOutside=function(e){n.isActive()&&!n.cardRef.current.contains(e.target)&&n.close()},n.isActive=function(){return n.state.contentActive||n.state.titleActive},n.undo=function(){n.props.updateTodo(n.state.originalTodo),n.close()},n.toggleBullets=function(){var e=j(n.props.todo);n.onChange(e)},n.isChanged=function(){return n.props.todo.name!==n.state.originalTodo.name||n.props.todo.content!==n.state.originalTodo.content},n.close=function(){n.setState({titleActive:!1,contentActive:!1}),n.props.done&&n.props.done(n.props.todo)},n.cardRef=r.a.createRef(),n.inputRef=r.a.createRef(),n.handleClickOutside=n.handleClickOutside.bind(Object(C.a)(n)),n.state={originalTodo:Object(d.a)({},n.props.todo),titleActive:!1,contentActive:!1},n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside);var e=this.inputRef.current;if(this.isNew()&&e){var t=document.createRange(),n=window.getSelection();t.setStart(e,1),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.focus()}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"onChange",value:function(e){e.hasBullets=e.content.includes("<li>"),this.props.onChange?this.props.onChange(e):this.props.updateTodo(e)}},{key:"render",value:function(){var e=this,t=this.props.todo;return r.a.createElement("div",{ref:this.cardRef,className:"todo-card card".concat(this.isActive()?" is-editing":"").concat(t.hasBullets?" bullets-active":""),style:{backgroundColor:t.color||"#fff"}},r.a.createElement(A,{name:t.name,onChange:function(n){return e.onChange(Object(d.a)({},t,{name:n}))},setActive:function(t){return e.setState({titleActive:t})}}),r.a.createElement(x,{content:t.content,targetRef:this.inputRef,onChange:function(n){return e.onChange(Object(d.a)({},t,{content:n}))},setActive:function(t){return e.setState({contentActive:t})}}),r.a.createElement(N,{isChanged:this.isChanged()&&!this.isNew(),toggleBullets:function(){return e.toggleBullets()},deleteTodo:function(){return e.props.deleteTodo(t.id)},setColor:function(n){return e.onChange(Object(d.a)({},t,{color:n}))},undo:function(){return e.undo()},close:function(){return e.close()}}))}}]),t}(a.Component),R=Object(l.b)((function(e){return{todos:e.todos.list}}),(function(e){return{addTodo:function(t){return e(p(t))},updateTodo:function(t){return e({type:"UPDATE_TODO",payload:t})},deleteTodo:function(t){return e({type:"DELETE_TODO",payload:t})}}}))(D),B=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(O.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){var t=Object(d.a)({},n.props.todo);t.content=e.target.value,n.props.onChange(t)},n.toggleBullets=function(){var e=j(n.props.todo);n.props.onChange(e)},n.inputRef=r.a.createRef(),n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.inputRef.current.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex card todo-card todo-placeholder"},r.a.createElement("div",{className:"new-todo-body"},r.a.createElement("div",{className:"new-todo-text"},!this.props.todo.content&&r.a.createElement("div",{className:"position-absolute new-todo-text todo-placeholder-title"},"Write a note!"),r.a.createElement(k.a,{html:this.props.todo.content||"",innerRef:this.inputRef,className:"new-todo-text new-todo-content",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"new-todo-menu"},r.a.createElement("button",{type:"button","aria-label":"Bullet Points",onClick:this.toggleBullets,className:"todo-card-action"},r.a.createElement("i",{className:"mdi mdi-format-list-bulleted"}))))}}]),t}(a.Component),S=(o=R,function(e){return e.todo.content?r.a.createElement(o,e):r.a.createElement(B,e)}),_=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(S,{todo:this.props.newTodo,onChange:function(t){return e.props.updateNewTodo(t)},done:function(t){return e.props.addTodo(t)}})}}]),t}(a.Component),P=Object(l.b)((function(e){return{newTodo:e.todos.newTodo}}),(function(e){return{addTodo:function(t){return e(p(t))},updateNewTodo:function(t){return e({type:"UPDATE_NEW_TODO",payload:t})}}}))(_),W=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex new-todo-card"},r.a.createElement(P,null)),this.props.todos.map((function(e){return r.a.createElement("div",{key:e.id,className:"d-inline-flex align-items-start flex-wrap"},r.a.createElement(R,{todo:e}))})))}}]),t}(a.Component),U=Object(l.b)((function(e){return{todos:e.todos.list}}))(W),F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("main",{className:"mt-4"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(U,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=Object(s.c)(h);c.a.render(r.a.createElement(l.a,{store:L},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.b25ece33.chunk.js.map